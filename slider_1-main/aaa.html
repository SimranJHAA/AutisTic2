<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AAA - Adult Asperger Assessment</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #fffaf8;
      color: #5a4a42;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 60px 20px;
      display: flex;
      gap: 60px;
      align-items: center;
    }

    .text-content h1 {
      font-size: 3rem;
      color: #e65100;
      margin: 0 0 20px;
    }

    .text-content p {
      font-size: 1.1rem;
      color: #543e2e;
      line-height: 1.7;
      margin-bottom: 24px;
    }

    .btn {
      padding: 14px 32px;
      font-size: 1.1em;
      font-weight: 600;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .btn-male {
      background-color: #e65100;
      color: white;
    }

    .btn-female {
      background-color: #ff6d00;
      color: white;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0,0,0,0.15);
    }

    /* Image on right */
    .image-container {
      position: relative;
      width: 100%;
      max-width: 500px;
      height: 450px;
    }

    .image-wrapper {
      position: absolute;
      width: 380px;
      height: 380px;
      top: 0;
      right: 0;
      border-radius: 24px;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(255, 154, 118, 0.2);
      transform: rotate(10deg);
    }

    .image-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .image-overlay {
      position: absolute;
      width: 280px;
      height: 280px;
      bottom: 0;
      left: 0;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
      transform: rotate(-10deg);
    }

    .image-overlay img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Quiz Section */
    .quiz-section {
      display: none;
      margin-top: 20px;
    }

    .question {
      margin-bottom: 20px;
      font-size: 1.1em;
    }

    .options {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
      gap: 10px;
      margin-top: 10px;
    }

    .option {
      padding: 10px;
      background-color: #fffbe6;
      border: 2px solid #ffe0b2;
      border-radius: 8px;
      text-align: center;
      font-size: 0.85em;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .option:hover, .option.selected {
      background-color: #ff9a76;
      color: white;
      border-color: #e65100;
    }

    .submit-btn {
      margin-top: 20px;
      padding: 14px 32px;
      background-color: #e65100;
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1.1em;
      cursor: pointer;
    }

    /* Report Section */
    .report-section {
      display: none;
      background: white;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      margin-top: 20px;
      border: 1px solid #ffdca8;
    }

    .score-box {
      font-size: 3rem;
      font-weight: bold;
      color: #e65100;
      text-align: center;
      margin: 20px 0;
    }

    .recommendation {
      font-size: 1.05rem;
      line-height: 1.7;
      color: #543e2e;
    }

    .back-btn {
      padding: 12px 28px;
      background-color: #8d7b73;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 20px;
      display: block;
      width: fit-content;
    }
  </style>
</head>
<body>

  <div class="container">

    <!-- Left: Text -->
    <div class="text-content">
      <h1>Adult Asperger Assessment (AAA)</h1>
      <p>This assessment is based on real-life experiences of adults with Asperger’s traits. Answer honestly — this helps you understand yourself better and decide if further support could help.</p>

      <!-- Gender Selection -->
      <div id="gender-selection">
        <p><strong>Select your gender:</strong></p>
        <div class="buttons space-x-4">
          <button class="btn btn-male" onclick="selectGender('male')">MALE</button>
          <button class="btn btn-female" onclick="selectGender('female')">FEMALE</button>
        </div>
      </div>

      <!-- Quiz Section -->
      <div id="quiz-section" class="quiz-section">
        <h2 class="font-semibold mb-4">Answer the Questions</h2>
        <div id="questions"></div>
        <button class="submit-btn" onclick="submitQuiz()">Submit Answers</button>
      </div>

      <!-- Report Section -->
      <div id="report-section" class="report-section">
        <h2 class="text-xl font-semibold">Your Asperger Trait Report</h2>
        <p id="report-gender"></p>
        <div class="score-box" id="score-display">0 / 10</div>
        <p id="report-message"></p>
        <button class="back-btn" onclick="restartQuiz()">← Take Another Test</button>
      </div>
    </div>

    <!-- Right: Images -->
    <div id="image-container" class="image-container">
      <div class="image-wrapper">
        <img src="image/adult1.png" alt="Adult Asperger">
      </div>
      <div class="image-overlay">
        <img src="image/adult2.png" alt="Self Discovery">
      </div>
    </div>

  </div>

  <script>
    let userAnswers = {};
    let selectedGender = '';

    // ✅ AAA Questions (Based on real Asperger's traits in adults)
    const aaaQuestions = [
      "I often feel like I don't fit in socially, even when people are friendly.",
      "I have a strong focus on specific interests that others may find unusual.",
      "I struggle to understand sarcasm, jokes, or tone of voice.",
      "I prefer routines and feel anxious when plans change suddenly.",
      "I notice small details that others often miss (e.g., sounds, patterns).",
      "I find eye contact uncomfortable or draining.",
      "I take things very literally and may misunderstand metaphors.",
      "I feel overwhelmed in noisy or crowded environments.",
      "I have difficulty expressing my emotions to others.",
      "I often feel like an outsider, even among family or friends."
    ];

    function selectGender(gender) {
      selectedGender = gender;
      document.getElementById('gender-selection').style.display = 'none';
      document.getElementById('image-container').style.display = 'none';
      document.getElementById('quiz-section').style.display = 'block';

      const questionsDiv = document.getElementById('questions');
      questionsDiv.innerHTML = '';

      aaaQuestions.forEach((q, index) => {
        const qId = `q${index}`;
        const questionDiv = document.createElement('div');
        questionDiv.className = 'question';
        questionDiv.innerHTML = `<p><strong>${index + 1}.</strong> ${q}</p>`;

        const optionsDiv = document.createElement('div');
        optionsDiv.className = 'options';

        ['Always', 'Often', 'Sometimes', 'Rarely', 'Never'].forEach(option => {
          const optionBtn = document.createElement('div');
          optionBtn.className = 'option';
          optionBtn.textContent = option;

          optionBtn.onclick = () => {
            optionsDiv.querySelectorAll('.option').forEach(btn => {
              btn.classList.remove('selected');
            });
            optionBtn.classList.add('selected');
            userAnswers[qId] = option;
          };

          optionsDiv.appendChild(optionBtn);
        });

        questionDiv.appendChild(optionsDiv);
        questionsDiv.appendChild(questionDiv);
      });
    }

    function submitQuiz() {
      const total = aaaQuestions.length;
      const answered = Object.keys(userAnswers).length;

      if (answered < total) {
        alert(`Please answer all questions. ${total - answered} left.`);
        return;
      }

      // ✅ Scoring: Always = 2, Often = 1, Others = 0
      let score = 0;
      Object.values(userAnswers).forEach(ans => {
        if (ans === 'Always') score += 2;
        else if (ans === 'Often') score += 1;
      });

      // Hide quiz
      document.getElementById('quiz-section').style.display = 'none';
      document.getElementById('report-section').style.display = 'block';

      document.getElementById('report-gender').innerHTML = `<strong>Gender:</strong> ${selectedGender.charAt(0).toUpperCase() + selectedGender.slice(1)}`;
      document.getElementById('score-display').textContent = `${score} / 20`;

      const msg = document.getElementById('report-message');

      if (score >= 12) {
        msg.innerHTML = `
          <strong>Score: ${score}/20</strong> — This suggests <strong>significant Asperger’s traits</strong>.<br><br>
          Many adults with similar scores go on to receive a formal diagnosis. 
          You’re not broken — you’re differently wired. Consider speaking with a psychologist who specializes in autism.
        `;
      } else if (score >= 6) {
        msg.innerHTML = `
          <strong>Score: ${score}/20</strong> — You show <strong>some Asperger’s traits</strong>.<br><br>
          This doesn’t mean you’re autistic, but it may explain why certain social or sensory situations feel challenging. 
          Self-awareness is the first step toward support and self-acceptance.
        `;
      } else {
        msg.innerHTML = `
          <strong>Score: ${score}/20</strong> — Fewer traits were identified.<br><br>
          This doesn’t rule out autism — some adults mask their traits well. 
          If you still feel different or overwhelmed, trust your experience. Support is available.
        `;
      }
    }

    function restartQuiz() {
      userAnswers = {};
      selectedGender = '';
      document.getElementById('report-section').style.display = 'none';
      document.getElementById('quiz-section').style.display = 'none';
      document.getElementById('image-container').style.display = 'block';
      document.getElementById('gender-selection').style.display = 'block';
    }
  </script>

</body>
</html>